import streamlit as st
import pandas as pd
import joblib
from joblib import dump, load
from PIL import Image

HairG = Image.open("hairgrowP.jpg")
Skindarken = Image.open("skin darkenP.jpg")


st.write(''' ## ‡πÅ‡∏≠‡∏õ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏£‡∏Ñ‡∏ñ‡∏∏‡∏á‡∏ô‡πâ‡∏≥‡∏£‡∏±‡∏á‡πÑ‡∏Ç‡πà‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ö

    ‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡∏ñ‡∏∏‡∏á‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏£‡∏±‡∏á‡πÑ‡∏Ç‡πà‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

    ''')
left, right = st.columns(2)

with left:
    st.header('‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏£‡∏Ñ‡∏ñ‡∏∏‡∏á‡∏ô‡πâ‡∏≥‡∏£‡∏±‡∏á‡πÑ‡∏Ç‡πà‡∏´‡∏•‡∏≤‡∏¢‡πÉ‡∏ö')
    st.subheader('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•')
    def user_input_features():
        Age = left.slider('‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà',0,100,22)
        st.write('‡∏≠‡∏≤‡∏¢‡∏∏', Age,'‡∏õ‡∏µ')
        Weight= left.slider('‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (Kg)‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà',0,150,79)
        st.write('‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å', Weight, '‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°')
        st.write(' # --------------------------------------')
        Cycle = left.slider('‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô',0,31,7)
        st.write('‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏°‡∏≤', Cycle, '‡∏ß‡∏±‡∏ô')
        st.write(' # --------------------------------------')
        CycleLength= left.slider('‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏´‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô',0,60,16)
        st.write('‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏∑‡∏≠‡∏ô', CycleLength, '‡∏ß‡∏±‡∏ô')
        st.write(' # --------------------------------------')
        st.write('### ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ ‡πÉ‡∏ä‡πà(1)‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà(0) ')
        hairGrowth = left.slider('‡∏Ç‡∏ô‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ',0,1,1)
        st.caption('''‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏ö‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡πÄ‡∏•‡∏¢ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö1 ‡∏´‡∏£‡∏∑‡∏≠ ‡∏°‡∏µ‡∏Ç‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö3‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö4 ''')
        st.write('‡∏Ç‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà', hairGrowth)
        st.image(HairG, use_column_width = True)
        st.write(' # --------------------------------------')
        SkinDarkening=left.slider('‡∏ú‡∏¥‡∏ß‡∏î‡∏≥‡∏Ñ‡∏•‡πâ‡∏≥‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà',0,1,0)
        st.caption('‡∏ú‡∏¥‡∏ß‡∏Ñ‡∏•‡πâ‡∏≥‡∏î‡∏≥‡∏´‡∏ô‡∏≤ ‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î ‡∏Ç‡πâ‡∏≠‡∏ô‡∏¥‡πâ‡∏ß ‡∏Ç‡πâ‡∏≠‡∏®‡∏≠‡∏Å ‡∏Ñ‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏£‡∏±‡∏Å‡πÅ‡∏£‡πâ ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô')
        st.image(Skindarken, use_column_width = True)
        st.write('‡∏ú‡∏¥‡∏ß‡∏î‡∏≥‡∏Ñ‡∏•‡πâ‡∏≥‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≤‡∏á‡πÜ', SkinDarkening)
        st.write(' # --------------------------------------')
        Pimples= left.slider('‡∏™‡∏¥‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà',0,1,1)
        st.caption('‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏´‡∏≤‡∏Å‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ß ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏¥‡∏ß‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏™‡∏¥‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥')
        st.write('‡∏™‡∏¥‡∏ß‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô', Pimples)
        st.write(' # --------------------------------------')


        Fastfood= left.slider('‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á (Fastfood) ',0,1,0)
        st.write('‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà', Fastfood)
        st.caption('‡∏ä‡∏≠‡∏ö‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ó‡∏≤‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á')
        st.write(' # --------------------------------------')


        FollicleL= left.slider('‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏±‡∏ô‡∏£‡∏π‡∏Ç‡∏∏‡∏°‡∏Ç‡∏ô‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà',0,1,1)
        st.write('‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏Ç‡∏∏‡∏°‡∏Ç‡∏ô‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà', FollicleL)
        st.write(' # --------------------------------------')


        FollicleR= left.slider('‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏±‡∏ô‡∏£‡∏π‡∏Ç‡∏∏‡∏°‡∏Ç‡∏ô‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà',0,1,1)
        st.write('‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏Ç‡∏∏‡∏°‡∏Ç‡∏ô‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà' , FollicleR)
        st.write(' # --------------------------------------')


        WeightGain= left.slider( '‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà',0,1,1)
        st.caption('‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏≤‡∏Å60‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏õ 70 ‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡πâ‡∏ô‡πÜ')
        st.write('‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô', WeightGain)
        st.write(' # --------------------------------------')
        pipe =  { 'Age (yrs)': Age,
                'Weight (Kg)': Weight,
                'Cycle(R/I)': Cycle,
                'Cycle length(days)': CycleLength,
                'hair growth(Y/N)': hairGrowth, 
                'Skin darkening (Y/N)': SkinDarkening,
                'Pimples(Y/N)': Pimples,
                'Fast food (Y/N)': Fastfood,
                'Follicle No. (L)': FollicleL, 
                'Follicle No. (R)': FollicleR, 
                'Weight gain(Y/N)': WeightGain}
        features = pd.DataFrame(pipe, index=[0])
        return features
    submit = form.form_submit_button("‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á")
    

app  = load('PcosApp.joblib')

name = ['''negative
    ‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ô‡πâ‡∏≠‡∏¢''', '''possitive

    ‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á 


    ‡∏™‡∏≤‡∏°‡∏£‡∏ñ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ï‡∏ô‡πÄ‡∏≠‡∏á  ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö 5 ‡∏´‡∏°‡∏π‡πà
    *‡∏Ñ‡∏ß‡∏£ ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á*  ‡πÅ‡∏•‡∏∞‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡πÇ‡∏£‡∏Ñ‡∏ï‡πà‡∏≠‡πÑ‡∏õ 
    ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°  
    https://www.bangkokhospital.com/content/overweight-women-are-more-likely-to-face-polycystic-ovary-syndrome


    ''']

df = user_input_features()
with right:
    if submit:
        st.balloons()
        succ = right.success("üéâ Your diploma was generated!")
    
        succ.subheader('‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á')
        st.write(df)
        prediction = app.predict(df)
        prediction_proba = app.predict_proba(df)
        st.subheader('‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ (Prediction)')
        succ.write(name[prediction[0]])



        st.subheader('‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á (Prediction Probability)')
        st.write('‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ô‡πâ‡∏≠‡∏¢','|',  '‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏°‡∏≤‡∏Å')
        st.write(prediction_proba)



st.write('''‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ''')
st.write(' ### https://forms.gle/u7GK9hvWkpWjJjaD9')
